"use strict";(self.webpackChunknetwork_design_web=self.webpackChunknetwork_design_web||[]).push([[9663],{"./src/stories/VolumeComparisonPage.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>VolumeComparisonPage_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),ui_select=__webpack_require__("./src/components/ui/select.tsx"),scenario_output_service=__webpack_require__("./src/services/scenario-output.service.ts"),informations_database_get_service=__webpack_require__("./src/services/informations-database-get.service.ts"),command=__webpack_require__("./src/components/ui/command.tsx"),popover=__webpack_require__("./src/components/ui/popover.tsx"),ui_button=__webpack_require__("./src/components/ui/button.tsx"),chevrons_up_down=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevrons-up-down.js"),check=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/check.js"),utils=__webpack_require__("./src/utils/utils.ts"),dist_module=__webpack_require__("./node_modules/react-loader-spinner/dist/module.js"),ResponsiveContainer=__webpack_require__("./node_modules/recharts/es6/component/ResponsiveContainer.js"),BarChart=__webpack_require__("./node_modules/recharts/es6/chart/BarChart.js"),CartesianGrid=__webpack_require__("./node_modules/recharts/es6/cartesian/CartesianGrid.js"),XAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/XAxis.js"),YAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/YAxis.js"),Tooltip=__webpack_require__("./node_modules/recharts/es6/component/Tooltip.js"),Legend=__webpack_require__("./node_modules/recharts/es6/component/Legend.js"),Bar=__webpack_require__("./node_modules/recharts/es6/cartesian/Bar.js"),ui_switch=__webpack_require__("./src/components/ui/switch.tsx"),next_navigation=__webpack_require__("./.storybook/__mocks__/next-navigation.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");function VolumeComparison(){const searchParams=(0,next_navigation.l)(),initialSnapshot=(null==searchParams?void 0:searchParams.get("snapshot"))||"",[snapshot,setSnapshot]=(0,react.useState)(initialSnapshot),[currentScenario,setCurrentScenario]=(0,react.useState)("__current__"),[comparisonScenario,setComparisonScenario]=(0,react.useState)(""),[volumeData,setVolumeData]=(0,react.useState)([]),[snapshots,setSnapshots]=(0,react.useState)([]),[scenarios,setScenarios]=(0,react.useState)([]),[loadingSnapshots,setLoadingSnapshots]=(0,react.useState)(!1),[loadingScenarios,setLoadingScenarios]=(0,react.useState)(!1),[loadingVolumes,setLoadingVolumes]=(0,react.useState)(!1),[showFormulation,setShowFormulation]=(0,react.useState)(!0),[plantFilter,setPlantFilter]=(0,react.useState)([]),[plantOptions,setPlantOptions]=(0,react.useState)([]),[plantSearchTerm,setPlantSearchTerm]=(0,react.useState)(""),[plantPopoverOpen,setPlantPopoverOpen]=(0,react.useState)(!1),[skuFilter,setSkuFilter]=(0,react.useState)([]),[skuOptions,setSkuOptions]=(0,react.useState)([]),[skuSearchTerm,setSkuSearchTerm]=(0,react.useState)(""),[skuPopoverOpen,setSkuPopoverOpen]=(0,react.useState)(!1),[currentRaw,setCurrentRaw]=(0,react.useState)([]),[comparisonRaw,setComparisonRaw]=(0,react.useState)([]),[currentPage,setCurrentPage]=(0,react.useState)(1);(0,react.useEffect)(()=>{(async()=>{setLoadingSnapshots(!0);try{const result=await(0,scenario_output_service.Tn)();result.success&&setSnapshots(result.data)}finally{setLoadingSnapshots(!1)}})()},[]),(0,react.useEffect)(()=>{(async()=>{if(snapshot){setLoadingScenarios(!0);try{const result=await(0,scenario_output_service.d4)(snapshot);result.success&&setScenarios(result.data)}finally{setLoadingScenarios(!1)}}})()},[snapshot]),(0,react.useEffect)(()=>{initialSnapshot&&initialSnapshot!==snapshot&&setSnapshot(initialSnapshot)},[initialSnapshot]),(0,react.useEffect)(()=>{snapshot&&(currentScenario||comparisonScenario)?(async()=>{setLoadingVolumes(!0);let currentRawData=[],comparisonRawData=[];if(snapshot&&currentScenario){console.log("Fetching current_state.json for Current Scenario");const result=await(0,informations_database_get_service.Mq)();if(console.log("getCurrentState result:",result),result.success&&Array.isArray(result.data)){const formulationMap={},fillingMap={};let processedItems=0,skippedItems=0;result.data.forEach((item,index)=>{if(item.formulation_plant){const demand=Number(item.demand)||0;formulationMap[item.formulation_plant]=(formulationMap[item.formulation_plant]||0)+demand,processedItems++}if(item.filling_plant){const demand=Number(item.demand)||0;fillingMap[item.filling_plant]=(fillingMap[item.filling_plant]||0)+demand,processedItems++}item.formulation_plant||item.filling_plant||skippedItems++}),currentRawData=Array.from(new Set([...Object.keys(formulationMap),...Object.keys(fillingMap)])).map(plant=>({plant,planta:plant,volume:0,formulation_current:formulationMap[plant]||0,filling_current:fillingMap[plant]||0,skus:result.data.filter(item=>(item.formulation_plant===plant||item.filling_plant===plant)&&(item.sku_code||item.sku)).map(item=>({code:item.sku_code||item.sku,name:item.sku_name||item.sku})).filter((sku,index,arr)=>arr.findIndex(s=>s.code===sku.code)===index)}))}else console.log("Failed to get current_state.json data:",{success:result.success,dataType:typeof result.data,isArray:Array.isArray(result.data),dataLength:Array.isArray(result.data)?result.data.length:"N/A"})}if(snapshot&&comparisonScenario){console.log("Fetching output.json for Comparison Scenario:",comparisonScenario);const result=await(0,scenario_output_service.Sj)(snapshot,comparisonScenario);console.log("getScenarioOutput result for comparison:",result);let rawData=[];if(result.success&&(rawData=result.data.data),rawData.length>0){const formulationMap={},fillingMap={};let processedItems=0,skippedItems=0,zeroRecommendationItems=0;rawData.forEach((item,index)=>{if("string"==typeof item.cenario&&item.cenario.includes("-")){const[formulation,filling]=item.cenario.split("-"),rec=Number(item.recomendacao)||0;formulation&&rec>0&&(formulationMap[formulation]=(formulationMap[formulation]||0)+rec),filling&&rec>0&&(fillingMap[filling]=(fillingMap[filling]||0)+rec),rec>0?processedItems++:zeroRecommendationItems++}else skippedItems++});const allPlants=Array.from(new Set([...Object.keys(formulationMap),...Object.keys(fillingMap)]));console.log("All plants found:",allPlants),comparisonRawData=allPlants.map(plant=>({plant,planta:plant,volume:0,formulation_volume:formulationMap[plant]||0,filling_volume:fillingMap[plant]||0,skus:rawData.filter(item=>{if("string"==typeof item.cenario&&item.cenario.includes("-")){const[formulation,filling]=item.cenario.split("-");return(formulation===plant||filling===plant)&&(item.sku_code||item.sku)}return!1}).map(item=>({code:item.sku_code||item.sku,name:item.sku_name||item.sku})).filter((sku,index,arr)=>arr.findIndex(s=>s.code===sku.code)===index)}))}else console.log("No data found in output.json after extraction")}console.log("Final currentRawData:",currentRawData),console.log("Final comparisonRawData:",comparisonRawData),setCurrentRaw(currentRawData),setComparisonRaw(comparisonRawData),setLoadingVolumes(!1)})():setLoadingVolumes(!1)},[snapshot,currentScenario,comparisonScenario,scenarios]),(0,react.useEffect)(()=>{if(!currentRaw.length&&!comparisonRaw.length)return console.log("No data available for either scenario"),void setVolumeData([]);let plants=[];plants=plantFilter&&0!==plantFilter.length?plantFilter:Array.from(new Set([...currentRaw.map(item=>item.plant),...comparisonRaw.map(item=>item.plant)])),skuFilter&&skuFilter.length>0&&(plants=plants.filter(plant=>{const currentItem=currentRaw.find(item=>item.plant===plant),comparisonItem=comparisonRaw.find(item=>item.plant===plant),currentSkus=(null==currentItem?void 0:currentItem.skus)||[],comparisonSkus=(null==comparisonItem?void 0:comparisonItem.skus)||[];return currentSkus.some(sku=>skuFilter.includes(sku.code))||comparisonSkus.some(sku=>skuFilter.includes(sku.code))})),console.log("Plants to process after SKU filter:",plants);const data=plants.map(plant=>{const current=currentRaw.find(item=>item.plant===plant),comparison=comparisonRaw.find(item=>item.plant===plant),currentVolume=showFormulation?Number(null==current?void 0:current.formulation_current)||0:Number(null==current?void 0:current.filling_current)||0,comparisonVolume=showFormulation?Number(null==comparison?void 0:comparison.formulation_volume)||0:Number(null==comparison?void 0:comparison.filling_volume)||0;return{name:plant,"Volume atual":currentVolume,"Volume cenário 1":comparisonVolume}});console.log("Final chart data:",data),setVolumeData(data)},[showFormulation,plantFilter,skuFilter,currentRaw,comparisonRaw]);const totalPages=Math.ceil(volumeData.length/10),paginatedData=volumeData.slice(10*(currentPage-1),10*currentPage),scenarioOptions=["__current__",...scenarios],comparisonScenarioOptions=[...scenarios];(0,react.useEffect)(()=>{const allPlants=Array.from(new Set([...currentRaw.map(item=>item.plant),...comparisonRaw.map(item=>item.plant)])).filter(Boolean);setPlantOptions(["All",...allPlants.sort()])},[currentRaw,comparisonRaw]),(0,react.useEffect)(()=>{const allSkus=new Map;currentRaw.length>0&&currentRaw.forEach(item=>{item.skus&&Array.isArray(item.skus)&&item.skus.forEach(sku=>{allSkus.set(sku.code,sku)})}),comparisonRaw.length>0&&comparisonRaw.forEach(item=>{item.skus&&Array.isArray(item.skus)&&item.skus.forEach(sku=>{allSkus.set(sku.code,sku)})});const sortedSkus=Array.from(allSkus.values()).sort((a,b)=>a.code.localeCompare(b.code));setSkuOptions(sortedSkus)},[currentRaw,comparisonRaw]);const filteredSkuOptions=skuOptions.filter(sku=>sku.code.toLowerCase().includes(skuSearchTerm.toLowerCase())||sku.name.toLowerCase().includes(skuSearchTerm.toLowerCase())),filteredPlantOptions=plantOptions.filter(plant=>plant.toLowerCase().includes(plantSearchTerm.toLowerCase()));(0,react.useEffect)(()=>{0===skuFilter.length&&setSkuSearchTerm(""),0===plantFilter.length&&setPlantSearchTerm("")},[skuFilter,plantFilter]);const isLoading=loadingSnapshots||loadingScenarios||loadingVolumes;return(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[isLoading&&(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-60 flex items-center justify-center z-50",children:(0,jsx_runtime.jsx)(dist_module.iT,{color:"#0A3045",secondaryColor:"#4B9CD3"})}),(0,jsx_runtime.jsx)("div",{className:"bg-[#E6EEF2] p-4 rounded-sm",children:(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,jsx_runtime.jsx)("div",{className:"col-span-7",children:(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h2",{className:"text-[#0A3045] font-medium text-base mb-4",children:"Select Snapshot"}),(0,jsx_runtime.jsxs)(ui_select.Ph,{value:snapshot,onValueChange:setSnapshot,children:[(0,jsx_runtime.jsx)(ui_select.i4,{className:"bg-white border-none shadow-none h-10 w-full",children:(0,jsx_runtime.jsx)(ui_select.ki,{placeholder:"Select a snapshot"})}),(0,jsx_runtime.jsx)(ui_select.Bw,{children:snapshots.map(snapshotName=>(0,jsx_runtime.jsx)(ui_select.Ql,{value:snapshotName,children:snapshotName},snapshotName))})]})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h2",{className:"text-[#0A3045] font-medium text-base mb-4",children:"Current Scenario"}),(0,jsx_runtime.jsxs)(ui_select.Ph,{value:currentScenario,onValueChange:setCurrentScenario,children:[(0,jsx_runtime.jsx)(ui_select.i4,{className:"bg-white border-none shadow-none h-10 w-full",children:(0,jsx_runtime.jsx)(ui_select.ki,{placeholder:"Select current scenario"})}),(0,jsx_runtime.jsx)(ui_select.Bw,{children:scenarioOptions.map(scenarioName=>(0,jsx_runtime.jsx)(ui_select.Ql,{value:scenarioName,children:"__current__"===scenarioName?"Current Scenario":scenarioName},scenarioName))})]})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h2",{className:"text-[#0A3045] font-medium text-base mb-4",children:"Comparison Scenario"}),(0,jsx_runtime.jsxs)(ui_select.Ph,{value:comparisonScenario,onValueChange:setComparisonScenario,children:[(0,jsx_runtime.jsx)(ui_select.i4,{className:"bg-white border-none shadow-none h-10 w-full",children:(0,jsx_runtime.jsx)(ui_select.ki,{placeholder:"Select comparison scenario"})}),(0,jsx_runtime.jsx)(ui_select.Bw,{children:comparisonScenarioOptions.map(scenarioName=>(0,jsx_runtime.jsx)(ui_select.Ql,{value:scenarioName,children:"__current__"===scenarioName?"Current Scenario":scenarioName},scenarioName))})]})]})]})}),(0,jsx_runtime.jsxs)("div",{className:"col-span-5",children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,jsx_runtime.jsx)("h2",{className:"text-[#0A3045] font-medium text-base",children:"Filters"}),(0,jsx_runtime.jsx)("button",{onClick:()=>{setPlantFilter([]),setSkuFilter([]),setPlantSearchTerm(""),setSkuSearchTerm("")},className:"text-sm text-[#175072] hover:text-[#0A3045] transition-colors",children:"Clear all filters"})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(popover.J2,{open:plantPopoverOpen,onOpenChange:setPlantPopoverOpen,children:[(0,jsx_runtime.jsx)(popover.xo,{asChild:!0,children:(0,jsx_runtime.jsxs)(ui_button.z,{variant:"outline",role:"combobox",className:"w-full justify-between bg-white border-none shadow-none h-10 text-xs",children:[0===plantFilter.length?"Plant":plantFilter.map(p=>p).join(", "),(0,jsx_runtime.jsx)(chevrons_up_down.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,jsx_runtime.jsx)(popover.yk,{className:"w-full p-0",children:(0,jsx_runtime.jsxs)(command.mY,{children:[(0,jsx_runtime.jsx)(command.sZ,{placeholder:"Search Plant...",value:plantSearchTerm,onValueChange:setPlantSearchTerm,className:"text-xs placeholder:text-xs"}),(0,jsx_runtime.jsxs)(command.e8,{children:[(0,jsx_runtime.jsx)(command.rb,{children:"No Plant found."}),(0,jsx_runtime.jsxs)(command.fu,{children:[(0,jsx_runtime.jsxs)(command.di,{onSelect:()=>{setPlantFilter([]),setPlantSearchTerm(""),setPlantPopoverOpen(!1)},children:[(0,jsx_runtime.jsx)(check.Z,{className:(0,utils.cn)("mr-2 h-4 w-4",0===plantFilter.length?"opacity-100":"opacity-0")}),"All Plants"]}),filteredPlantOptions.filter(plant=>"All"!==plant).map(plant=>(0,jsx_runtime.jsxs)(command.di,{onSelect:()=>{setPlantFilter(prev=>prev.includes(plant)?prev.filter(p=>p!==plant):[...prev,plant]),setPlantSearchTerm("")},children:[(0,jsx_runtime.jsx)(check.Z,{className:(0,utils.cn)("mr-2 h-4 w-4",plantFilter.includes(plant)?"opacity-100":"opacity-0")}),plant]},plant))]})]})]})})]})}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(popover.J2,{open:skuPopoverOpen,onOpenChange:setSkuPopoverOpen,children:[(0,jsx_runtime.jsx)(popover.xo,{asChild:!0,children:(0,jsx_runtime.jsxs)(ui_button.z,{variant:"outline",role:"combobox",className:"w-full justify-between bg-white border-none shadow-none h-10 text-xs",children:[0===skuFilter.length?"SKU":skuFilter.map(s=>{const sku=skuOptions.find(opt=>opt.code===s);return sku?sku.name:s}).join(", "),(0,jsx_runtime.jsx)(chevrons_up_down.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,jsx_runtime.jsx)(popover.yk,{className:"w-full p-0",children:(0,jsx_runtime.jsxs)(command.mY,{children:[(0,jsx_runtime.jsx)(command.sZ,{placeholder:"Search SKU...",value:skuSearchTerm,onValueChange:setSkuSearchTerm,className:"text-xs placeholder:text-xs"}),(0,jsx_runtime.jsxs)(command.e8,{children:[(0,jsx_runtime.jsx)(command.rb,{children:"No SKU found."}),(0,jsx_runtime.jsxs)(command.fu,{children:[(0,jsx_runtime.jsxs)(command.di,{onSelect:()=>{setSkuFilter([]),setSkuSearchTerm(""),setSkuPopoverOpen(!1)},children:[(0,jsx_runtime.jsx)(check.Z,{className:(0,utils.cn)("mr-2 h-4 w-4",0===skuFilter.length?"opacity-100":"opacity-0")}),"All SKUs"]}),filteredSkuOptions.map(sku=>(0,jsx_runtime.jsxs)(command.di,{onSelect:()=>{setSkuFilter(prev=>prev.includes(sku.code)?prev.filter(s=>s!==sku.code):[...prev,sku.code]),setSkuSearchTerm("")},children:[(0,jsx_runtime.jsx)(check.Z,{className:(0,utils.cn)("mr-2 h-4 w-4",skuFilter.includes(sku.code)?"opacity-100":"opacity-0")}),sku.code,sku.name&&sku.name!==sku.code?` - ${sku.name}`:""]},sku.code))]})]})]})})]})})]})]})]})}),(0,jsx_runtime.jsxs)("div",{className:"bg-white p-6 rounded-md shadow-md relative",children:[(0,jsx_runtime.jsxs)("div",{className:"absolute right-6 top-6 flex items-center gap-2 z-10",children:[(0,jsx_runtime.jsx)("span",{className:showFormulation?"font-bold text-[#0A3045]":"text-[#0A3045]",children:"Formulation"}),(0,jsx_runtime.jsx)(ui_switch.r,{checked:showFormulation,onCheckedChange:setShowFormulation}),(0,jsx_runtime.jsx)("span",{className:showFormulation?"text-[#0A3045]":"font-bold text-[#0A3045]",children:"Filling"})]}),(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold text-[#0A3045] mb-6 text-center",children:"Difference between volumes"}),(0,jsx_runtime.jsx)("div",{className:"h-[400px]",children:(0,jsx_runtime.jsx)(ResponsiveContainer.h,{width:"100%",height:"100%",children:(0,jsx_runtime.jsxs)(BarChart.v,{data:volumeData,margin:{top:20,right:30,left:20,bottom:5},children:[(0,jsx_runtime.jsx)(CartesianGrid.q,{strokeDasharray:"3 3"}),(0,jsx_runtime.jsx)(XAxis.K,{dataKey:"name"}),(0,jsx_runtime.jsx)(YAxis.B,{tickFormatter:value=>Math.abs(value)>=1e6?`${(value/1e6).toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})} Mi (Kg/l)`:value.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,jsx_runtime.jsx)(Tooltip.u,{}),(0,jsx_runtime.jsx)(Legend.D,{}),(0,jsx_runtime.jsx)(Bar.$,{dataKey:"Volume atual",fill:"#0A3045"}),(0,jsx_runtime.jsx)(Bar.$,{dataKey:"Volume cenário 1",fill:"#4B9CD3"})]})})})]}),(0,jsx_runtime.jsxs)("div",{className:"bg-white p-6 rounded-md shadow-md",children:[(0,jsx_runtime.jsx)("h2",{className:"text-xl font-bold text-[#0A3045] mb-4",children:"Volume Details"}),(0,jsx_runtime.jsxs)("table",{className:"w-full",children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{className:"bg-[#E6EEF2]",children:[(0,jsx_runtime.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-[#0A3045]",children:"Plant"}),(0,jsx_runtime.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-[#0A3045]",children:"Current Volume"}),(0,jsx_runtime.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-[#0A3045]",children:"Scenario Volume"}),(0,jsx_runtime.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-[#0A3045]",children:"Difference"})]})}),(0,jsx_runtime.jsx)("tbody",{children:paginatedData.map((item,index)=>(0,jsx_runtime.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,jsx_runtime.jsx)("td",{className:"px-4 py-2",children:item.name}),(0,jsx_runtime.jsx)("td",{className:"px-4 py-2",children:item["Volume atual"].toLocaleString()}),(0,jsx_runtime.jsx)("td",{className:"px-4 py-2",children:item["Volume cenário 1"].toLocaleString()}),(0,jsx_runtime.jsx)("td",{className:"px-4 py-2",children:(item["Volume cenário 1"]-item["Volume atual"]).toLocaleString()})]},index))})]}),totalPages>1&&(0,jsx_runtime.jsxs)("div",{className:"flex justify-center items-center mt-4 gap-2",children:[(0,jsx_runtime.jsx)("button",{className:"px-3 py-1 rounded bg-[#E6EEF2] text-[#0A3045] font-medium disabled:opacity-50",onClick:()=>setCurrentPage(p=>Math.max(1,p-1)),disabled:1===currentPage,children:"Anterior"}),(0,jsx_runtime.jsxs)("span",{className:"mx-2 text-[#0A3045]",children:["Página ",currentPage," de ",totalPages]}),(0,jsx_runtime.jsx)("button",{className:"px-3 py-1 rounded bg-[#E6EEF2] text-[#0A3045] font-medium disabled:opacity-50",onClick:()=>setCurrentPage(p=>Math.min(totalPages,p+1)),disabled:currentPage===totalPages,children:"Próxima"})]})]})]})}VolumeComparison.__docgenInfo={description:"",methods:[],displayName:"VolumeComparison"};const VolumeComparisonPage_stories={title:"Pages/VolumeComparisonPage",tags:["autodocs"],parameters:{docs:{description:{component:"Página de comparação de volumes entre cenários."}}}},Default={render:()=>(0,jsx_runtime.jsx)("div",{className:"w-full mx-auto px-2",children:(0,jsx_runtime.jsx)(VolumeComparison,{})})},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: () => <div className="w-full mx-auto px-2">\r\n      <VolumeComparison />\r\n    </div>\n}',...Default.parameters?.docs?.source}}}},"./src/components/ui/switch.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>Switch});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-switch/dist/index.mjs"),_utils_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/utils.ts");const Switch=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_3__.fC,{className:(0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("peer inline-flex h-[20px] w-[36px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-md transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",className),...props,ref,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_3__.bU,{className:(0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Switch.displayName=_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_3__.fC.displayName,Switch.__docgenInfo={description:"",methods:[]}},"./src/services/scenario-output.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Sj:()=>getScenarioOutput,Tn:()=>listSnapshots,d4:()=>listScenarios});var console=__webpack_require__("./node_modules/console-browserify/index.js");async function getScenarioOutput(snapshotName,scenarioName){try{console.log(`Fetching scenario output for ${snapshotName}/${scenarioName}`);const response=await fetch(`http://localhost:5000/scenario/output/${encodeURIComponent(snapshotName)}/${encodeURIComponent(scenarioName)}`,{method:"GET",cache:"no-store"});if(!response.ok)return console.error(`Error response from server: ${response.status} - ${response.statusText}`),{success:!1,message:`Error: ${response.status} - ${response.statusText}`,data:null};const data=await response.json();return console.log("Received data from server:",data),{success:!0,data}}catch(error){return console.error("Error in getScenarioOutput:",error),{success:!1,message:(null==error?void 0:error.message)||"Failed to fetch scenario output",data:null}}}async function listSnapshots(){try{console.log("Fetching snapshots list");const response=await fetch("http://localhost:5000/scenario/snapshots",{method:"GET",cache:"no-store"});if(!response.ok)return console.error(`Error response from server: ${response.status} - ${response.statusText}`),{success:!1,message:`Error: ${response.status} - ${response.statusText}`,data:[]};const result=await response.json();return console.log("Received snapshots:",result),{success:result.success,message:result.message,data:result.data||[]}}catch(error){return console.error("Error in listSnapshots:",error),{success:!1,message:(null==error?void 0:error.message)||"Failed to list snapshots",data:[]}}}async function listScenarios(snapshotName){try{console.log(`Fetching scenarios for snapshot: ${snapshotName}`);const response=await fetch(`http://localhost:5000/scenario/snapshots/${encodeURIComponent(snapshotName)}/scenarios`,{method:"GET",cache:"no-store"});if(!response.ok)return console.error(`Error response from server: ${response.status} - ${response.statusText}`),{success:!1,message:`Error: ${response.status} - ${response.statusText}`,data:[]};const result=await response.json();return console.log("Received scenarios:",result),{success:result.success,message:result.message,data:result.data||[]}}catch(error){return console.error("Error in listScenarios:",error),{success:!1,message:(null==error?void 0:error.message)||"Failed to list scenarios",data:[]}}}}}]);